

<html><head>

  </head>
  <body>
   



<section id="container" class="container">
    <h3>Scan barcode to look up for your asssets</h3>
    <p>Click the <strong>button</strong> next to the input-field to start scanning an <strong>Asssets Barcode</strong> barcode</p>
    <div>
        <form>
            <div class="input-field form-group">
                <label for="isbn_inputlable">Scanning:</label>
                <input id="isbn_input" class="isbn" type="text" value="1000001">
                <button type="button" class="icon-barcode button scan">&nbsp;</button>
            </div>
        </form>


    </div>
</section>

<section id="container" class="container">

    <div>
        <button type="button" class="btn btn-secondary" id="assetcheck">What is this assets?</button>

    </div>
        <div id="barcodetyperesult">
            {{!-- <p id="barcodetyperesultp">This asset is: </p> --}}

        </div>

</section>

<section id="container" class="container">

    <div>
        <button type="button" class="btn btn-secondary" id="assetadd">Add to my site</button>

    </div>


</section>



<script src="quagga.js" type="text/javascript"></script>
<script src="index.js" type="text/javascript"></script>
<script src="prism.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="addingassets.js" type="text/javascript"></script>

<script type="text/javascript">

//$("#assetcheck").click(checkassets);

 $("#assetcheck").click(function () {
    
    alert ("you are checking the assets type!");
    var newbarcode = $("#isbn_input").val().trim();

     event.preventDefault();
     console.log(newbarcode);

    $.ajax("/api/scanner/" + newbarcode, {
      type: "GET"
    }).then(function (r) {
      console.log(r);
      alert(r);
      console.log("relementid");
      console.log(r.catelog[0].catelogid);
      var newcatelogid=r.catelog[0].catelogid;
      var newcatelogname=r.catelog[0].catelogname;
      var newcatelogmodel=r.catelog[0].model;
      var newcatelogbrand=r.catelog[0].brand;
      var newcatelogcost=r.catelog[0].cost;
      $('#barcodetyperesultp').append(newcatelogname);
    
    $('#barcodetyperesult').empty();
      var newtable = $("<table>");
        var newtable0 = $("<tr>");
          var newtablehid=$("<th>");
              newtablehid.append("Catelog ID");
          var newtablehname=$("<th>");
              newtablehname.append("Category");
          var newtablehmodel=$("<th>");
              newtablehmodel.append("Model");
          var newtablehbrand=$("<th>");
              newtablehbrand.append("Brand");
          var newtablehcost=$("<th>");
              newtablehcost.append("Cost");
        newtable0.append(newtablehid);
        newtable0.append(newtablehname);
        newtable0.append(newtablehmodel);
        newtable0.append(newtablehbrand);
        newtable0.append(newtablehcost);
        var newtabler = $("<tr>");
          var newtabledid=$("<td>");
              newtabledid.append(newcatelogid);
          var newtabledname=$("<td>");
              newtabledname.append(newcatelogname);
          var newtabledmodel=$("<td>");
              newtabledmodel.append(newcatelogmodel);
          var newtabledbrand=$("<td>");
              newtabledbrand.append(newcatelogbrand);
          var newtabledcost=$("<td>");
              newtabledcost.append(newcatelogcost);
        newtabler.append(newtabledid);
        newtabler.append(newtabledname);
        newtabler.append(newtabledmodel);
        newtabler.append(newtabledbrand);
        newtabler.append(newtabledcost);

        newtable.append(newtable0);
        newtable.append(newtabler);
       $('#barcodetyperesult').append(newtable);
      //var rshow=JSON.stringify(r);
      //var rshowonpage=JSON.parse(rshow);
      //console.log(rshow);
      //$('#barcodetyperesultp').html(rshow);
      //location.reload();
    });


  });



function checkassets(){

    alert ("you are checking the assets type!");
    var newbarcode = $("#isbn_input").val();

     event.preventDefault();

 //   var newbarcode = {
 //     barcodecategory: $("#isbn_input").val().trim()
 //   };
    //var newbarcode = $("#isbn_input").val().trim();
    console.log(newbarcode);
    // Send the get request.
//    $.ajax({
//            data: newbarcode,
//            type: "GET",
//            dataType : "html",
//            success: function( data ) {
//                $('#barcodetyperesult').replaceWith($('#barcodetyperesult').html(data));
//            },
//            error: function( xhr, status ) {
//            alert( "Sorry, there was a problem!" );
 //           },
//            complete: function( xhr, status ) {
//                //$('#showresults').slideDown('slow')
//            }
//            }); 




};

$("#assetadd").click(checkassets);

function checkassets(){

    alert ("you are adding this assets to a a site!");
};



</script>

  
    <!-- <script src="https://serratus.github.io/quaggaJS/javascripts/scale.fix.js"></script> -->
    <script src="scale.fix.js"></script>
  

<!-- <div class="overlay" style="display: none;">
    <div class="overlay__content">
        <div class="overlay__close">X</div>
        <video autoplay="true" preload="auto" src(unknown)></video>
    </div>
</div> -->
</body>
</html>